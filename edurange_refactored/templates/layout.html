<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8"/>

    <link rel="shortcut icon" href="{{static_url_for('static', filename='build/img/favicon.ico') }}">
    <title>
        {% block page_title %}
        Edurange_Refactored
        {% endblock %}
    </title>
    <meta name="description" content="{% block meta_description %}{% endblock %}"/>
    <meta name="author" content="{% block meta_author %}{% endblock %}"/>

    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width"/>

    <link
            rel="stylesheet"
            type="text/css"
            href="{{ static_url_for('static', filename='build/main_css.bundle.css') }}"
    />

    <style type="text/css">
        #pageWrapper {
            overflow-x: hidden;
            margin-top: -4px;
        }
        #sidebar {
            margin-left: -15rem;
            transition: margin .25s ease-out;
        }
        #sidebar .list-group {
            width: 15rem;
        }
        #pageWrapper.visible #sidebar {
            margin-left: 0;
        }
        /*#pageWrapper.visible #pageContent{
            margin-left: -15rem;
            transition: margin 0s;
        }*/
        #pageContent {
            min-width: 100vw;
        }
    </style>

    {% block css %}{% endblock %}
</head>
<body class="{% block body_class %}{% endblock %}">
    {% block body %} {% with form=form %} {% include "nav.html" %} {% endwith %}
    <div class="d-flex visible" id="pageWrapper">
        {% include "sidebar.html" %}
        <header>{% block header %}{% endblock %}</header>

        <main role="main">
            {% with messages = get_flashed_messages(with_categories=true) %} {% if messages %}
            <div class="row">
                <div class="col-md-12">
                    {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        <a class="close" title="Close" href="#" data-dismiss="alert">&times;</a>
                        {{ message }}
                    </div><!-- end .alert -->
                    {% endfor %}
                </div><!-- end col-md -->
            </div><!-- end row -->
            {% endif %} {% endwith %}
            <div id="pageContent">{% block content %}{% endblock %}</div>
        </main>
    </div>
    {% include "footer.html" %}

<!-- JavaScript at the bottom for fast page loading -->
<script src="{{ static_url_for('static', filename='build/main_js.bundle.js') }}"></script>
        <script src="/static/build/main_js.bundle.js"></script>
{% block js %}
    <script>

      function refresh() {
        console.log("refreshing");
        var index = 0;
        var sort_mode = 0;

        var x = document.getElementById("s_table").rows[0].cells
        for (var i = 0; i < x.length; i++) {
          if (x[i].className === 'sorting-asc') {
            console.log('ascending sort found')
            index = i;
            sort_mode = 1;
          } else if (x[i].className === 'sorting-desc') {
            console.log('descending sort found')
            index = i;
            sort_mode = 2;
          }
        }

        $('#body').load('/dashboard/scenarios #scenarios', function() {
          sort(index, sort_mode);
          });
        return 0
      }

    </script>
{% endblock %}
<!-- end scripts -->
{% endblock %}
</body>
</html>

